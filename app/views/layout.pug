doctype html
html
  head
    meta(charset='utf-8')
    meta(name='viewport', content='width=device-width, initial-scale=1')
    if user
      meta(name='user-id', content=user.id)
    title #{title || 'Roehampton Ride Sharing App'}
    link(rel='stylesheet', href='https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css')
    link(rel='stylesheet', href='https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css')
    link(rel='stylesheet', href='/css/style.css')
    block styles
  body
    nav.navbar.navbar-expand-lg.navbar-dark.bg-primary.mb-4
      .container
        a.navbar-brand(href='/') 
          i.fas.fa-car-side.me-2
          | Roehampton Ride Sharing
        button.navbar-toggler(type='button', data-bs-toggle='collapse', data-bs-target='#navbarNav')
          span.navbar-toggler-icon
        #navbarNav.collapse.navbar-collapse
          ul.navbar-nav.me-auto
            li.nav-item
              a.nav-link(href='/rides') Find Rides
            li.nav-item
              a.nav-link(href='/rides/search') Advanced Search
            if user
              li.nav-item
                a.nav-link(href='/messages') Messages
              if user.is_driver
                li.nav-item
                  a.nav-link(href='/rides/create') Offer a Ride
          
          ul.navbar-nav
            if user
              li.nav-item.dropdown
                a.nav-link.dropdown-toggle#userDropdown(href='#' role='button' data-bs-toggle='dropdown' aria-expanded='false')
                  if user.profile_photo
                    img.rounded-circle.me-1(src=getProfilePhoto(user.profile_photo) alt=user.name width='25' height='25')
                  else
                    i.fas.fa-user.me-1
                  | #{user.name}
                ul.dropdown-menu.dropdown-menu-end(aria-labelledby='userDropdown')
                  li
                    a.dropdown-item(href='/dashboard') Dashboard
                  li
                    a.dropdown-item(href=`/users/${user.id}`) My Profile
                  li
                    a.dropdown-item(href='/messages') Messages
                  li
                    hr.dropdown-divider
                  li
                    a.dropdown-item(href='/auth/logout') Logout
            else
              li.nav-item
                a.nav-link(href='/auth/login') Login
              li.nav-item
                a.nav-link(href='/auth/signup') Sign Up
    
    .container
      block content
    
    footer.footer.mt-5.py-3.bg-light
      .container.text-center
        p.text-muted &copy; 2024 Roehampton Ride Sharing App - University of Roehampton
    
    // Scripts
    script(src='https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js')
    script(src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.7.2/socket.io.min.js")
    script(src="/js/main.js")
    
    block scripts 